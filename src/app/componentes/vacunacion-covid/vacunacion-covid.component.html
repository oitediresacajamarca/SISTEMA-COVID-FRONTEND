<nav class="main-header navbar navbar-expand navbar-white navbar-light">
  <!-- Left navbar links -->
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" data-widget="pushmenu" href="#" role="button"
        ><i class="fas fa-bars"></i
      ></a>
    </li>
    <li class="nav-item d-none d-sm-inline-block">
      <a href="../../index3.html" class="nav-link">Home</a>
    </li>
    <li class="nav-item d-none d-sm-inline-block">
      <a href="#" class="nav-link">Contact</a>
    </li>
  </ul>

  <!-- SEARCH FORM -->
  <form class="form-inline ml-3">
    <div class="input-group input-group-sm">
      <input
        class="form-control form-control-navbar"
        type="search"
        placeholder="Search"
        aria-label="Search"
      />
      <div class="input-group-append">
        <button class="btn btn-navbar" type="submit">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
  </form>

  <!-- Right navbar links -->
  <ul class="navbar-nav ml-auto">
    <!-- Messages Dropdown Menu -->
    <li class="nav-item dropdown">
      <a class="nav-link" data-toggle="dropdown" href="#">
        <i class="far fa-comments"></i>
        <span class="badge badge-danger navbar-badge">3</span>
      </a>
      <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
        <a href="#" class="dropdown-item">
          <!-- Message Start -->
          <div class="media">
            <img
              src="../../dist/img/user1-128x128.jpg"
              alt="User Avatar"
              class="img-size-50 mr-3 img-circle"
            />
            <div class="media-body">
              <h3 class="dropdown-item-title">
                Brad Diesel
                <span class="float-right text-sm text-danger"
                  ><i class="fas fa-star"></i
                ></span>
              </h3>
              <p class="text-sm">Call me whenever you can...</p>
              <p class="text-sm text-muted">
                <i class="far fa-clock mr-1"></i> 4 Hours Ago
              </p>
            </div>
          </div>
          <!-- Message End -->
        </a>
        <div class="dropdown-divider"></div>
        <a href="#" class="dropdown-item">
          <!-- Message Start -->
          <div class="media">
            <img
              src="../../dist/img/user8-128x128.jpg"
              alt="User Avatar"
              class="img-size-50 img-circle mr-3"
            />
            <div class="media-body">
              <h3 class="dropdown-item-title">
                John Pierce
                <span class="float-right text-sm text-muted"
                  ><i class="fas fa-star"></i
                ></span>
              </h3>
              <p class="text-sm">I got your message bro</p>
              <p class="text-sm text-muted">
                <i class="far fa-clock mr-1"></i> 4 Hours Ago
              </p>
            </div>
          </div>
          <!-- Message End -->
        </a>
        <div class="dropdown-divider"></div>
        <a href="#" class="dropdown-item">
          <!-- Message Start -->
          <div class="media">
            <img
              src="../../dist/img/user3-128x128.jpg"
              alt="User Avatar"
              class="img-size-50 img-circle mr-3"
            />
            <div class="media-body">
              <h3 class="dropdown-item-title">
                Nora Silvester
                <span class="float-right text-sm text-warning"
                  ><i class="fas fa-star"></i
                ></span>
              </h3>
              <p class="text-sm">The subject goes here</p>
              <p class="text-sm text-muted">
                <i class="far fa-clock mr-1"></i> 4 Hours Ago
              </p>
            </div>
          </div>
          <!-- Message End -->
        </a>
        <div class="dropdown-divider"></div>
        <a href="#" class="dropdown-item dropdown-footer">See All Messages</a>
      </div>
    </li>
    <!-- Notifications Dropdown Menu -->
    <li class="nav-item dropdown">
      <a class="nav-link" data-toggle="dropdown" href="#">
        <i class="far fa-bell"></i>
        <span class="badge badge-warning navbar-badge">15</span>
      </a>
      <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
        <span class="dropdown-item dropdown-header">15 Notifications</span>
        <div class="dropdown-divider"></div>
        <a href="#" class="dropdown-item">
          <i class="fas fa-envelope mr-2"></i> 4 new messages
          <span class="float-right text-muted text-sm">3 mins</span>
        </a>
        <div class="dropdown-divider"></div>
        <a href="#" class="dropdown-item">
          <i class="fas fa-users mr-2"></i> 8 friend requests
          <span class="float-right text-muted text-sm">12 hours</span>
        </a>
        <div class="dropdown-divider"></div>
        <a href="#" class="dropdown-item">
          <i class="fas fa-file mr-2"></i> 3 new reports
          <span class="float-right text-muted text-sm">2 days</span>
        </a>
        <div class="dropdown-divider"></div>
        <a href="#" class="dropdown-item dropdown-footer"
          >See All Notifications</a
        >
      </div>
    </li>
    <li class="nav-item">
      <a
        class="nav-link"
        data-widget="control-sidebar"
        data-slide="true"
        href="#"
        role="button"
      >
        <i class="fas fa-th-large"></i>
      </a>
    </li>
  </ul>
</nav>

<div class="container">
  <div class="row">
    <div class="col-md-4">
      <img src="assets/logotipogrc.png" style="width:80%;" />
      
    </div>

    <div class="col-md-4 TITULO">VACUNACION TERRITORIAL</div>
    <div class="col-md-4">

      <img src="assets/logo_diresa.png" style="width:30%;" />
    </div>
   

    <div class="col-md-6 SUBTITULO">ADULTOS MAYORES</div>
  </div>
  <div class="row">
    <!-- left column -->
    <div class="col-md-12">
      <!-- general form elements -->
      <div class="card card-primary">
        <div class="card-header">
          <h3 class="card-title">DATOS GENERALES</h3>
        </div>
        <!-- /.card-header -->
        <!-- form start -->
        <form role="form" [formGroup]="formGroup">
          <div class="card-body">
            <div class="form-group">
              <label>TIPO DE DOCUMENTO DE IDENTIDAD</label>
              <select class="form-control">
                <option>DNI</option>
                <option>CE</option>
              </select>
            </div>
            <div class="row">
              <div class="col-md-5">
                <div class="form-group">
                  <label for="exampleInputEmail1"
                    >NUMERO DE DOCUMENTO DE IDENTIDAD</label
                  >
                  <input
                    type="email"
                    class="form-control"
                    id="exampleInputEmail1"
                    placeholder="Ingrese el Numero de Documento "
                    formControlName="numero_documento"
                    
                  />
                  <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup.get('numero_documento').errors!=null && this.formGroup.get('numero_documento').touched?'block':'none'}" class="error invalid-feedback">Numero de Documento es requerido</span>
           
                </div>
              </div>

              <div class="col-md-5">
                <div class="form-group">
                  <label>FECHA DE NACIMIENTO</label>
                  <div class="input-group">
                    <input class="form-control" placeholder="yyyy-mm-dd"
                          name="dp"  ngbDatepicker #d="ngbDatepicker"
                          (click)="d.toggle()"
                          formControlName="fecha_nacimiento">
                    <!-- <div class="input-group-append">
                      <button class="btn btn-outline-secondary calendar" (click)="d.toggle()" type="button"></button>
                    </div> -->
                  </div>
                </div>
              </div>
              



              <div class="col-md-2">
                <div class="form-group">
               <br>
              
                <button
                  type="submit"
                  class="btn btn-primary form-control"
                  (click)="BuscarDnI()"
                >
                  BUSCAR
                </button>
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="exampleInputEmail1">APELLIDO PATERNO</label>
              <input
                type="email"
                class="form-control"
                id="exampleInputEmail1"
                placeholder="Ingrese el Apellido Paterno"
                formControlName="ape_paterno"
               
              />
              <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup.get('ape_paterno').errors!=null && this.formGroup.get('ape_paterno').touched?'block':'none'}" class="error invalid-feedback">Apellido Paterno es requerido</span>
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">APELLIDO MATERNO</label>
              <input
                type="email"
                class="form-control"
                id="exampleInputEmail1"
                placeholder="Ingrese el Apellido Materno"
                formControlName="ape_materno"
              />
              <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup.get('ape_materno').errors!=null && this.formGroup.get('ape_materno').touched?'block':'none'}" class="error invalid-feedback">Apellido Materno es requerido</span>
            </div>
            <div class="form-group">
              <label for="exampleInputEmail1">NOMBRES</label>
              <input
                type="email"
                class="form-control"
                id="exampleInputEmail1"
                placeholder="ingrese sus Nombres"
                formControlName="nombres"
               
              />
              <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup.get('nombres').errors!=null && this.formGroup.get('nombres').touched?'block':'none'}" class="error invalid-feedback">Apellido Materno es requerido</span>

            </div>
            <div class="position-relative p-3 bg-gray" style="height: 180px"  *ngIf="existeEnPadron">
              <div class="ribbon-wrapper ribbon-xl">
                <div class="ribbon bg-warning text-lg">
                  FELICIDADES</div>
              </div>
              <H1>USTED YA SE ENCUENTRA DENTRO DEL PADRON</H1>
              <small>AHORA  DEBE DE ACTUALIZAR SU INFORMACION PARA QUE PODAMOS GENERAR SU CITA</small>
              
            </div>
            <div class="position-relative p-3 bg-info" style="height: 180px"  *ngIf="noExisteEnPadron">
              <div class="ribbon-wrapper ribbon-xl">
                <div class="ribbon bg-warning text-lg">
                  ATENCION</div>
              </div>
              <H1>USTED NO SE ENCUENTRA DENTRO DEL PADRON DE VACUNACION ACTUAL</H1>
              <small>DEJENOS SUS DATOS, PARA TENERLE EN CUENTA DENTRO DEL PROCESO DE INGRESO AL PADRON</small>
              
            </div>

            <div class="position-relative p-3 bg-info" style="height: 180px"  *ngIf="citaDisponible">
              <div class="ribbon-wrapper ribbon-xl">
                <div class="ribbon bg-warning text-lg">
                  ATENCION</div>
              </div>
              <H1>USTED YA SE LE CITO</H1>
              <small>DEJENOS SUS DATOS, PARA TENERLE EN CUENTA DENTRO DEL PROCESO DE INGRESO AL PADRON</small>
              
            </div>

            <div class="position-relative p-3 bg-info" style="height: 180px"  *ngIf="personaProtegida">
              <div class="ribbon-wrapper ribbon-xl">
                <div class="ribbon bg-warning text-lg">
                  ATENCION</div>
              </div>
              <H1>USTED YA SE LE VACUNO CON LAS DOSIS REQUERIDAS PARA ESTAR PROTEGIDO</H1>
           
              
            </div>

          </div>
          <!-- /.card-body -->

          <div class="card-footer">
            
          </div>
        </form>
      </div>
      <!-- /.card -->

      <!-- /.card -->
      <form role="form" [formGroup]="formGroup2">
        <div class="card card-success">
          <div class="card-header">
            <h3 class="card-title">DISTRITO DE RESIDENCIA HABITUAL</h3>
          </div>
          <div class="card-body">
            <div class="row">
              <div class="col-3">
                <div class="form-group">
                  <label>SELECCIONE PROVINCIA</label>
                  <select class="form-control" formControlName="PROVINCIA" (change)="FILTRAR_DISTRITOS()"
                
                  >
                    <option>CAJAMARCA</option>
                    <option>CAJABAMBA</option>
                    <option>CELENDIN</option>
                    <option>CHOTA</option>
                    <option>CONTUMAZA</option>
                    <option>CUTERVO</option>
                    <option>HULGAYOC</option>
                    <option>JAEN</option>
                    <option>SAN IGNACIO</option>
                    <option>SAN MARCOS</option>
                    <option>SAN MIGUEL</option>
                    <option>SAN PABLO</option>
                    <option>SANTA CRUZ</option>
                  </select>
                  <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup2.get('PROVINCIA').errors!=null && this.formGroup2.get('PROVINCIA').touched?'block':'none'}" class="error invalid-feedback">PROVINCIA es requerido</span>

                </div>
              </div>
              <div class="col-4">
                <div class="form-group">
                  <label>SELECCIONE DISTRITO</label>
                  <select class="form-control"  formControlName="DISTRITO" 
                 
                  (change)="FITRAR_PUNTOS_VACUNACION()" (click)="FITRAR_PUNTOS_VACUNACION()">
                   
                    <option value="" 
                    >"SELECCIONE DISTRITO"</option>

                    <option [value]="distrito.codigo_distrito" *ngFor="let distrito of distritos_filtrados"
                   >{{distrito.nombre_distrito}}</option>
                   
                  </select>
                  <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup2.get('DISTRITO').errors!=null && this.formGroup2.get('DISTRITO').touched?'block':'none'}" class="error invalid-feedback">Distrito es requerido</span>

                </div>
              </div>
              <div class="col-5">
                <!-- <div class="form-group">
                  <label>SELECCIONE CENTRO POBLADO</label>
                  <select class="form-control">
                    <option>CAJAMARCA</option>
                    <option>CELENDIN</option>
                  </select>
                </div> -->
              </div>
            </div>
          </div>
          <!-- /.card-body -->
        </div>

        <div class="card card-warning">
          <div class="card-header">
            <h3 class="card-title">DIRECCION ACTUAL</h3>
          </div>
          <!-- /.card-header -->
          <div class="card-body">
            <div class="row">
              <div class="col-sm-4">
                <!-- text input -->
                <div class="form-group">
                  <label>TIPO DE VIA </label>
                  <select class="form-control" formControlName="TIPO_VIA">
                    <option>AVENIDA</option>
                    <option>JR</option>
                    <option>PSJE</option>
                    <option>CALLE</option>
                    <option>OTROS</option>
                  </select>
                  <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup2.get('TIPO_VIA').errors!=null && this.formGroup2.get('TIPO_VIA').touched?'block':'none'}" class="error invalid-feedback">Tipo de Via es requerido</span>

                </div>
              </div>
              <div class="col-sm-6">
                <div class="form-group">
                  <label>NOMBRE DE VIA</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter ..."
                    formControlName="NOMBRE_VIA"
                  />
                  <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup2.get('NOMBRE_VIA').errors!=null && this.formGroup2.get('NOMBRE_VIA').touched?'block':'none'}" class="error invalid-feedback">Nombre de Via es requerido</span>

                </div>
              </div>

              <div class="col-sm-2">
                <div class="form-group">
                  <label>NUMERO</label>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Enter ..."
                    formControlName="NUMERO"
                  />
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-6">
                <!-- textarea -->
                <div class="form-group">
                  <label>REFERENCIA</label>
                  <textarea
                    class="form-control"
                    rows="3"
                    placeholder="Enter ..."
                  ></textarea>
                </div>
              </div>
              <div class="col-sm-6"></div>
            </div>

            <div class="card card-primary">
              <div class="card-header">
                <h3 class="card-title">
                  SELECIONE SU PUNTO DE VACUNACION MAS CERCANO
                </h3>
              </div>
              <div class="card-body">
                <div class="row">
                  <div class="col-4">
                    <div class="form-group">
                      <label>SELECCIONAR PUNTO</label>
                      <select
                        class="form-control"
                        formControlName="NOMBRE_PUNTO_VACUNACION"
                      >
                      <option value="">SELECCIONE SU PUNTO DE VACUNACION</option>
                        <option *ngFor="let punto of puntos_vacunacion" [value]="punto.nombre_punto">{{punto.nombre_punto}}</option>
                      
                      </select>
                      <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup2.get('NOMBRE_PUNTO_VACUNACION').errors!=null && this.formGroup2.get('NOMBRE_PUNTO_VACUNACION').touched?'block':'none'}" class="error invalid-feedback">Punto de Vacunacion es requerido</span>

               
                    </div>
                  </div>
                  <div class="col-8"></div>
                </div>
              </div>
              <!-- /.card-body -->
            </div>
          </div>
          <!-- /.card-body -->
        </div>

        <!-- /.card -->

        <!-- Input addon -->
        <div class="card card-info">
          <div class="card-header">
            <h3 class="card-title">CONTACTO PARA PROGRAMAR CITA</h3>
          </div>
          <div class="card-body">
            <label>NUMERO DE TELEFONO</label>

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="fas fa-phone"></i
                ></span>
              </div>
              <input
                type="text"
                class="form-control"
                data-inputmask='"mask": "(999) 999-9999"'
                data-mask=""
                im-insert="true"
                formControlName="NUMERO_TELEFONO"
              />
              <span id="exampleInputEmail1-error" [ngStyle]="{'display':this.formGroup2.get('NUMERO_TELEFONO').errors!=null && this.formGroup2.get('NUMERO_TELEFONO').touched?'block':'none'}" class="error invalid-feedback">Numero de Telefono es requerido</span>

               
            </div>
            <!-- /.input group -->

            <h4>CORREO ELECTRONICO</h4>

            <div class="input-group mb-3">
              <div class="input-group-prepend">
                <span class="input-group-text"
                  ><i class="fas fa-envelope"></i
                ></span>
              </div>
              <input type="email" class="form-control" placeholder="Email" 
              formControlName="CORREO_ELECTRONICO"/>
            </div>

            <!-- /input-group -->
          </div>
          <!-- /.card-body -->
        </div>
        <!-- /.card -->
        <!-- Horizontal Form -->
        <div class="card card-secondary">
          <div class="card-header">
            <h3 class="card-title">DATOS ADICIONALES</h3>
          </div>
          <!-- /.card-header -->
          <!-- form start -->

          <div class="card-body">
            <div class="form-group">
              <label>SELECCIONAR TIPO DE SEGURO</label>
              <select class="form-control"  formControlName="TIPO_SEGURO">
                <option>SIN SEGURO</option>
                <option>SIS</option>
                <option>SANIDAD PNP</option>
                <option>ESSALUD</option>
                <option>SIS</option>
                <option>SANIDAD PNP</option>
              </select>
            </div>

            <div class="form-group">
              <label>INDIQUE SI TIENE ALGUNA DISCAPACIDAD</label> 
              <div class="custom-control custom-switch">
                <input type="checkbox" class="custom-control-input" id="customSwitch1" formControlName="TIENE_DISCAPACIDAD">
                <label class="custom-control-label" for="customSwitch1">TENGO DISCAPACIAD</label>
              </div>

              </div>

           
          </div>
          <!-- /.card-body -->

          <div class="card-footer">
            <button
              type="submit"
              class="btn btn-primary"
              (click)="actualizar(content)" [disabled]="!this.formGroup.valid ||!this.formGroup2.valid "
            >
              GUARDAR
            </button>
          </div>
        </div>
      </form>
    </div>

    <!--/.col (left) -->
    <!-- right column -->

    <div class="col-md-12"></div>
    <!--/.col (right) -->
  </div>
  <!-- /.row -->
</div>


<ng-template #content let-modal>
  <div class="modal-content bg-info">
    <div class="modal-header">
      <h4 class="modal-title">Confimacion</h4>
      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">Ã—</span></button>
    </div>
    <div class="modal-body">
      <p>Confirma usted que la informacion suministrada es correcta</p>
    </div>
    <div class="modal-footer justify-content-between">
      <button type="button" class="btn btn-outline-light" (click)="modal.dismiss('Save click')" data-dismiss="modal">Close</button>
      <button type="button" class="btn btn-outline-light" (click)="modal.close('Save click')">Confirmar Informacion</button>
    </div>
  </div>
</ng-template>